# Maintainer: Florian LÃ©ger <florian6 dot leger at laposte dot net>
# Contributor: Vic Demuzere <vic@demuzere.be>

pkgname=minecraft-server
pkgver=1.0.1
pkgrel=1
epoch=1
pkgdesc="Server for Minecraft"
arch=(any)
license=('custom')
url="http://www.minecraft.net/"
depends=('java-runtime' 'expect' 'detachtty')
source=(http://www.minecraft.net/download/minecraft_server.jar
        minecraft-server
        minecraft-server-rc)
md5sums=('934b6010999daa1f1b1ccdf4cb77e052'
         '40194f9c13854a803fe318b97b4f82bb'
         '506685081fd4722b0c0e8a693396dd93')
options=(emptydirs)
install=minecraft-server.install

package() {
  install -Dm755 "$srcdir/minecraft-server" "$pkgdir/usr/bin/minecraft-server"
  install -Dm644 "$srcdir/minecraft_server.jar" "$pkgdir/usr/share/java/minecraft-server/minecraft-server.jar"

  install -Dm755 "$srcdir/minecraft-server-rc" "$pkgdir/etc/rc.d/minecraft-server"

  install -d "$pkgdir/srv/minecraft"
  install -d "$pkgdir/var/run/minecraft-server"
  install -d "$pkgdir/var/log/minecraft-server"
}
