# Maintainer: Florian LÃ©ger <florian6 dot leger at laposte dot net>
# Contributor: Vic Demuzere <vic@demuzere.be>

pkgname=minecraft-server
pkgver=beta_1.7.3
pkgrel=3
epoch=1
pkgdesc="Server for Minecraft"
arch=(any)
license=('custom')
url="http://www.minecraft.net/"
depends=('java-runtime' 'expect' 'detachtty')
source=(http://minecraft.net/download/minecraft_server.jar
        minecraft-server
        minecraft-server-rc)
md5sums=('cc263aa969f2d8621c5443a5a18897e2'
         '40194f9c13854a803fe318b97b4f82bb'
         'ffde26889f822a929afae7d5f9db32ab')
options=(emptydirs)
install=minecraft-server.install

package() {
  install -Dm755 "$srcdir/minecraft-server" "$pkgdir/usr/bin/minecraft-server"
  install -Dm644 "$srcdir/minecraft_server.jar" "$pkgdir/usr/share/java/minecraft-server/minecraft-server.jar"

  install -Dm755 "$srcdir/minecraft-server-rc" "$pkgdir/etc/rc.d/minecraft-server"

  install -d "$pkgdir/srv/minecraft"
  install -d "$pkgdir/var/run/minecraft-server"
  install -d "$pkgdir/var/log/minecraft-server"
}
