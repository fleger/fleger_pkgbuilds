diff -Naur a/dt-driver-1.1/diamondtouch.c b/dt-driver-1.1/diamondtouch.c
--- a/dt-driver-1.1/diamondtouch.c	2009-12-21 21:39:17.000000000 +0100
+++ b/dt-driver-1.1/diamondtouch.c	2010-08-01 09:35:28.295704087 +0200
@@ -30,6 +30,7 @@
 
 #include <linux/usb.h>
 #include <linux/usb/input.h>
+#include <linux/slab.h>
 
 #include "dt-firmware.h"
 
