# Maintainer: Florian LÃ©ger <florian6 dot leger at laposte dot net>

pkgname=serieswatcher
pkgver=0.1.2
pkgrel=1
pkgdesc='A TV series browser and tracker application.'
arch=('i686' 'x86_64')
url='http://xf.iksaif.net/dev/serieswatcher.html'
license=('GPL')
depends=('qttvdb' 'libzip' 'quazip')
makedepends=('cmake')
source=("http://xf.iksaif.net/dev/${pkgname}/${pkgname}-${pkgver}.tar.bz2"
        "${pkgname}.desktop")
md5sums=('ffbc0971293b09647a852f36d014d630'
         '2f2a1876e39044c3ef16303da9684430')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  mkdir -p build
  cd build
  cmake .. -DCMAKE_INSTALL_PREFIX=/usr || return 1
  make || return 1
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}/build"

  make DESTDIR="${pkgdir}" install || return 1

  install -Dm644 "${srcdir}/${pkgname}-${pkgver}/res/${pkgname}.png" "${pkgdir}/usr/share/icons/${pkgname}.png"
  install -Dm644 "${srcdir}/${pkgname}.desktop" "${pkgdir}/usr/share/applications/${pkgname}.desktop"
}

